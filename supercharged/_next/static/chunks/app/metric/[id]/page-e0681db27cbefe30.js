(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747,858],{7786:function(e,n,s){Promise.resolve().then(s.bind(s,3137)),Promise.resolve().then(s.bind(s,9941))},4871:function(e,n,s){"use strict";s.r(n),s.d(n,{ModelTreeClient:function(){return j},setActive:function(){return m}});var i=s(7437),t=s(1396),c=s.n(t),l=s(2265),r=s(2165),a=s(2333),o=s(3395);let u=null,d=e=>{u=e};function m(e){d(e)}async function f(e){let n=await fetch(e),s=await n.json();return s}let h={};function j(){let[e,n]=l.useState("project"),{data:s}=(0,a.ZP)("/treedata",f),t=s||h,[c,r]=l.useReducer(e=>e+1,0),o=l.useCallback(e=>{b(e,t.project),b(e,t.database),b(e,t.groups),b(e,t.sources),b(e,t.exposures),b(e,t.metrics),r(),setTimeout(()=>{let n=document.querySelector("*[data-nav-unique-id='"+e+"']");n&&n.scrollIntoView&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},100)},[t]);return l.useEffect(()=>{s&&(d=o,u&&o(u))},[s,o]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"menu",children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/overview",className:"menu-link menu-main",children:"Overview"})}),(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"switches",children:[(0,i.jsx)("div",{className:"switch ",children:(0,i.jsxs)("span",{className:"".concat("project"===e?"active":""," switch-label btn btn-sm"),onClick:()=>{n("project")},children:[(0,i.jsx)("svg",{className:"icn menu-icon-on",children:(0,i.jsx)("use",{xlinkHref:"#icn-dir-on"})}),"Project"]})}),(0,i.jsx)("div",{className:"switch",children:(0,i.jsxs)("span",{className:"".concat("database"===e?"active":""," switch-label btn btn-sm"),onClick:()=>{n("database")},children:[(0,i.jsx)("svg",{className:"icn menu-icon-on",children:(0,i.jsx)("use",{xlinkHref:"#icn-tree-on"})}),"Database"]})})]})}),"project"===e?(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:"menu",children:[(0,i.jsx)(p,{title:"Sources",elements:t.sources,resourceType:"source",setActive:o}),(0,i.jsx)(p,{title:"Exposures",elements:t.exposures,resourceType:"exposure",setActive:o}),(0,i.jsx)(p,{title:"Metrics",elements:t.metrics,resourceType:"model",setActive:o}),(0,i.jsx)(p,{title:"Projects",elements:t.project,resourceType:"model",setActive:o})]})}):(0,i.jsx)("li",{children:(0,i.jsx)(x,{title:"Tables and Views",elements:t.database,resourceType:"model",setActive:o})})]})})})}let x=e=>{let{title:n,elements:s,resourceType:t,setActive:c}=e;return(null==s?void 0:s.length)?(0,i.jsx)("div",{className:"menu",children:(0,i.jsx)(p,{title:n,elements:s,resourceType:t,setActive:c})}):null},p=e=>{let{title:n,elements:s,resourceType:t,setActive:c}=e;return(null==s?void 0:s.length)?(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:n}),(0,i.jsx)("ul",{style:{display:"block"},children:s.map(e=>(0,i.jsx)(v,{item:e,resourceType:t,active:e.active,setActive:c},e.name))}),(0,i.jsx)("br",{})]}):null},v=e=>{var n;let{item:s,resourceType:t,depth:a=0,active:u=!1,setActive:d}=e,m=s.name,f=r.ZP.last(m,15).join(""),h=r.ZP.initial(m,f.length).join(""),[j,x]=l.useState(!1);l.useEffect(()=>{u&&!s.unique_id&&x(!0)},[u,s.unique_id]);let p={active:s.active||j,"menu-tree":"header"==s.type||"schema"==s.type||"folder"==s.type,"menu-main":"header"==s.type,"menu-node":"file"==s.type||"table"==s.type},b=Object.keys(p).filter(e=>p[e]).join(" ");return(0,i.jsxs)("li",{className:"unselectable",children:[s.unique_id?(0,i.jsx)(c(),{href:(0,o.a)(s),legacyBehavior:!0,children:(0,i.jsx)("a",{className:"unselectable ".concat(b),onClick:()=>{d(s.unique_id)},"data-nav-unique-id":s.unique_id,title:m,children:(0,i.jsxs)("span",{className:"filename",children:[(0,i.jsxs)("span",{className:"filename-normal",children:[(0,i.jsx)("svg",{className:"icn menu-icon-on",children:(0,i.jsx)("use",{xlinkHref:N(s.type,"on")})}),(0,i.jsx)("svg",{className:"icn menu-icon-off",children:(0,i.jsx)("use",{xlinkHref:N(s.type,"off")})})]}),(0,i.jsx)("span",{className:"filename-ellip",children:h}),(0,i.jsx)("span",{className:"filename-normal",children:f})]})})}):(0,i.jsx)("a",{className:"unselectable ".concat(b),onClick:()=>{x(e=>!e)},children:(0,i.jsxs)("span",{className:"filename",children:[(0,i.jsxs)("span",{className:"filename-normal",children:[(0,i.jsx)("svg",{className:"icn menu-icon-on",children:(0,i.jsx)("use",{xlinkHref:N(s.type,"on")})}),(0,i.jsx)("svg",{className:"icn menu-icon-off",children:(0,i.jsx)("use",{xlinkHref:N(s.type,"off")})})]}),(0,i.jsx)("span",{className:"filename-ellip",children:h}),(0,i.jsx)("span",{className:"filename-normal",children:f})]})}),j&&(null===(n=s.items)||void 0===n?void 0:n.length)?(0,i.jsx)("ul",{children:s.items.map((e,n)=>(0,i.jsx)(v,{depth:a+1,item:e,resourceType:t,active:e.active,setActive:d},n))}):null]})};function N(e,n){return"#"+({header:{on:"icn-down",off:"icn-right"},database:{on:"icn-db-on",off:"icn-db"},schema:{on:"icn-tree-on",off:"icn-tree"},table:{on:"icn-doc-on",off:"icn-doc"},folder:{on:"icn-dir-on",off:"icn-dir"},file:{on:"icn-doc-on",off:"icn-doc"},group:{on:"icn-filter",off:"icn-filter"}})[e][n]}function b(e,n){var s=!1;return r.ZP.each(n,function(n){if(n.unique_id)n.unique_id==e?(n.active=!0,s=!0):n.active=!1;else{let i=b(e,n.items);n.active=i,s=i}}),s}},9941:function(e,n,s){"use strict";s.r(n),s.d(n,{ReferenceListClient:function(){return o}});var i=s(7437),t=s(2265),c=s(2165),l=s(1396),r=s.n(l),a=s(3395);let o=e=>{let{references:n,node:s}=e,l=n&&c.ZP.size(n)>0,[o,u]=t.useState(()=>l?c.ZP.keys(n)[0]:null),d=o?n[o]:[];return(0,i.jsx)("div",{className:"panel",children:l?(0,i.jsxs)("div",{className:"panel-body",children:[(0,i.jsx)("ul",{className:"nav nav-tabs",children:Object.keys(n).map(e=>(0,i.jsx)("li",{className:e===o?"active":"",children:(0,i.jsx)("a",{onClick:()=>{u(e)},children:function(e){if("model"==e)return"Models";if("seed"==e)return"Seeds";if("test"==e)return"Tests";if("snapshot"==e)return"Snapshots";if("analysis"==e)return"Analyses";if("macro"==e)return"Macros";if("exposure"==e)return"Exposures";else if("metric"==e)return"Metrics";else if("operation"==e)return"Operations";else return"Nodes"}(e)})},e))}),(0,i.jsx)("div",{style:{marginTop:"15px"},children:(0,i.jsx)("ul",{className:"list-unstyled",children:d.map((e,n)=>(0,i.jsx)("li",{children:(0,i.jsx)(r(),{href:(0,a.a)(e),children:e.name})},n))})})]}):(0,i.jsxs)("div",{className:"panel-body",children:["No resources reference this ",s.resource_type]})})}},3137:function(e,n,s){"use strict";s.r(n),s.d(n,{SetActive:function(){return c}});var i=s(2265),t=s(4871);function c(e){let{uniqueId:n}=e;return i.useEffect(()=>{(0,t.setActive)(n)},[n]),null}},3395:function(e,n,s){"use strict";function i(e){return"/"+e.resource_type+"/"+e.unique_id+"/"}s.d(n,{a:function(){return i}})}},function(e){e.O(0,[795,971,596,744],function(){return e(e.s=7786)}),_N_E=e.O()}]);