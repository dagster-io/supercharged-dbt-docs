(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3683:function(e,n,s){Promise.resolve().then(s.bind(s,4871)),Promise.resolve().then(s.bind(s,9265)),Promise.resolve().then(s.t.bind(s,2471,23)),Promise.resolve().then(s.t.bind(s,8788,23))},4871:function(e,n,s){"use strict";s.r(n),s.d(n,{ModelTreeClient:function(){return p},setActive:function(){return m}});var t=s(7437),i=s(1396),l=s.n(i),c=s(2265),a=s(2165),r=s(2333),o=s(3395);let u=null,d=e=>{u=e};function m(e){d(e)}async function f(e){let n=await fetch(e),s=await n.json();return s}let h={};function p(){let[e,n]=c.useState("project"),{data:s}=(0,r.ZP)("/treedata",f),i=s||h,[l,a]=c.useReducer(e=>e+1,0),o=c.useCallback(e=>{b(e,i.project),b(e,i.database),b(e,i.groups),b(e,i.sources),b(e,i.exposures),b(e,i.metrics),a(),setTimeout(()=>{let n=document.querySelector("*[data-nav-unique-id='"+e+"']");n&&n.scrollIntoView&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},100)},[i]);return c.useEffect(()=>{s&&(d=o,u&&o(u))},[s,o]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"menu",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"/overview",className:"menu-link menu-main",children:"Overview"})}),(0,t.jsx)("li",{children:(0,t.jsxs)("div",{className:"switches",children:[(0,t.jsx)("div",{className:"switch ",children:(0,t.jsxs)("span",{className:"".concat("project"===e?"active":""," switch-label btn btn-sm"),onClick:()=>{n("project")},children:[(0,t.jsx)("svg",{className:"icn menu-icon-on",children:(0,t.jsx)("use",{xlinkHref:"#icn-dir-on"})}),"Project"]})}),(0,t.jsx)("div",{className:"switch",children:(0,t.jsxs)("span",{className:"".concat("database"===e?"active":""," switch-label btn btn-sm"),onClick:()=>{n("database")},children:[(0,t.jsx)("svg",{className:"icn menu-icon-on",children:(0,t.jsx)("use",{xlinkHref:"#icn-tree-on"})}),"Database"]})})]})}),"project"===e?(0,t.jsx)("li",{children:(0,t.jsxs)("div",{className:"menu",children:[(0,t.jsx)(j,{title:"Sources",elements:i.sources,resourceType:"source",setActive:o}),(0,t.jsx)(j,{title:"Exposures",elements:i.exposures,resourceType:"exposure",setActive:o}),(0,t.jsx)(j,{title:"Metrics",elements:i.metrics,resourceType:"model",setActive:o}),(0,t.jsx)(j,{title:"Projects",elements:i.project,resourceType:"model",setActive:o})]})}):(0,t.jsx)("li",{children:(0,t.jsx)(x,{title:"Tables and Views",elements:i.database,resourceType:"model",setActive:o})})]})})})}let x=e=>{let{title:n,elements:s,resourceType:i,setActive:l}=e;return(null==s?void 0:s.length)?(0,t.jsx)("div",{className:"menu",children:(0,t.jsx)(j,{title:n,elements:s,resourceType:i,setActive:l})}):null},j=e=>{let{title:n,elements:s,resourceType:i,setActive:l}=e;return(null==s?void 0:s.length)?(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:n}),(0,t.jsx)("ul",{style:{display:"block"},children:s.map(e=>(0,t.jsx)(v,{item:e,resourceType:i,active:e.active,setActive:l},e.name))}),(0,t.jsx)("br",{})]}):null},v=e=>{var n;let{item:s,resourceType:i,depth:r=0,active:u=!1,setActive:d}=e,m=s.name,f=a.ZP.last(m,15).join(""),h=a.ZP.initial(m,f.length).join(""),[p,x]=c.useState(!1);c.useEffect(()=>{u&&!s.unique_id&&x(!0)},[u,s.unique_id]);let j={active:s.active||p,"menu-tree":"header"==s.type||"schema"==s.type||"folder"==s.type,"menu-main":"header"==s.type,"menu-node":"file"==s.type||"table"==s.type},b=Object.keys(j).filter(e=>j[e]).join(" ");return(0,t.jsxs)("li",{className:"unselectable",children:[s.unique_id?(0,t.jsx)(l(),{href:(0,o.a)(s),legacyBehavior:!0,children:(0,t.jsx)("a",{className:"unselectable ".concat(b),onClick:()=>{d(s.unique_id)},"data-nav-unique-id":s.unique_id,title:m,children:(0,t.jsxs)("span",{className:"filename",children:[(0,t.jsxs)("span",{className:"filename-normal",children:[(0,t.jsx)("svg",{className:"icn menu-icon-on",children:(0,t.jsx)("use",{xlinkHref:y(s.type,"on")})}),(0,t.jsx)("svg",{className:"icn menu-icon-off",children:(0,t.jsx)("use",{xlinkHref:y(s.type,"off")})})]}),(0,t.jsx)("span",{className:"filename-ellip",children:h}),(0,t.jsx)("span",{className:"filename-normal",children:f})]})})}):(0,t.jsx)("a",{className:"unselectable ".concat(b),onClick:()=>{x(e=>!e)},children:(0,t.jsxs)("span",{className:"filename",children:[(0,t.jsxs)("span",{className:"filename-normal",children:[(0,t.jsx)("svg",{className:"icn menu-icon-on",children:(0,t.jsx)("use",{xlinkHref:y(s.type,"on")})}),(0,t.jsx)("svg",{className:"icn menu-icon-off",children:(0,t.jsx)("use",{xlinkHref:y(s.type,"off")})})]}),(0,t.jsx)("span",{className:"filename-ellip",children:h}),(0,t.jsx)("span",{className:"filename-normal",children:f})]})}),p&&(null===(n=s.items)||void 0===n?void 0:n.length)?(0,t.jsx)("ul",{children:s.items.map((e,n)=>(0,t.jsx)(v,{depth:r+1,item:e,resourceType:i,active:e.active,setActive:d},n))}):null]})};function y(e,n){return"#"+({header:{on:"icn-down",off:"icn-right"},database:{on:"icn-db-on",off:"icn-db"},schema:{on:"icn-tree-on",off:"icn-tree"},table:{on:"icn-doc-on",off:"icn-doc"},folder:{on:"icn-dir-on",off:"icn-dir"},file:{on:"icn-doc-on",off:"icn-doc"},group:{on:"icn-filter",off:"icn-filter"}})[e][n]}function b(e,n){var s=!1;return a.ZP.each(n,function(n){if(n.unique_id)n.unique_id==e?(n.active=!0,s=!0):n.active=!1;else{let t=b(e,n.items);n.active=t,s=t}}),s}},9265:function(e,n,s){"use strict";s.r(n),s.d(n,{SearchBar:function(){return d}});var t=s(7437),i=s(2265);function l(e){let{active:n=!0}=e;return(0,t.jsx)("div",{className:["spinner",n&&"spinner--active"].join(" "),role:"progressbar","aria-busy":n?"true":"false"})}var c=s(2333),a=s(4887),r=s(5770);let o=(0,r.kz)(()=>Promise.all([s.e(866),s.e(856)]).then(s.bind(s,7185)).then(e=>({default:e.SearchResults})));async function u(e){let n=await fetch(e),s=await n.json();return s}function d(){let[e,n]=(0,i.useState)(""),[s,r]=(0,i.useState)(!1),[d,m]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=document.createElement("div");return e.style.position="fixed",e.style.left="0px",e.style.right="0px",e.style.top="81px",e.style.bottom="0px",e.style.background="rgb(249, 250, 251)",document.body.appendChild(e),m(e),()=>{e.parentNode===document.body&&document.body.removeChild(e)}},[]),(0,i.useEffect)(()=>{d&&(e?d.style.display="block":d.style.display="none")},[d,e]);let{data:f,isLoading:h}=(0,c.ZP)(s||e.trim().length>0?"/searchdata":null,u);return(0,t.jsxs)(t.Fragment,{children:[h?(0,t.jsx)("div",{className:"app-footer app-icn",children:(0,t.jsx)(l,{})}):null,(0,t.jsx)("input",{autoComplete:"off",id:"search",value:e,onChange:e=>{let s=e.target.value;n(s)},onFocus:()=>r(!0),onBlur:()=>r(!1),type:"text",className:"form-control",placeholder:"Search for models..."}),(0,t.jsx)("div",{className:"app-body"}),e.length?(0,t.jsx)("div",{style:{cursor:"pointer"},className:"app-footer app-icn",onClick:()=>{n("")},children:(0,t.jsx)("svg",{className:"icn icn-md",children:(0,t.jsx)("use",{xlinkHref:"#icn-close"})})}):null,d&&(0,a.createPortal)(f&&e.trim().length>0&&(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{style:{width:"100%",height:"100%",margin:"auto"},children:(0,t.jsx)(l,{})}),children:(0,t.jsx)(o,{query:e,searchable:f,clearQuery:()=>{n("")}})}),d)]})}o.preload()},3395:function(e,n,s){"use strict";function t(e){return"/"+e.resource_type+"/"+e.unique_id+"/"}s.d(n,{a:function(){return t}})},2471:function(){},8788:function(e){e.exports={style:{fontFamily:"'__Inter_5f725a', '__Inter_Fallback_5f725a'",fontStyle:"normal"},className:"__className_5f725a"}},5770:function(e,n,s){"use strict";n.kz=void 0;var t=s(2265);n.kz=function(e){var n,s,i=(0,t.lazy)(e),l=(0,t.forwardRef)(function(e,s){var l=(0,t.useRef)(null!=n?n:i);return(0,t.createElement)(l.current,Object.assign(s?{ref:s}:{},e))});return l.preload=function(){return s||(s=e().then(function(e){return n=e.default})),s},l}}},function(e){e.O(0,[795,971,596,744],function(){return e(e.s=3683)}),_N_E=e.O()}]);